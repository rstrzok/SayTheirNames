<!DOCTYPE html>
<html>
    <head>
        <title>Say Their Names Web Map</title>

   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>

        <script type="text/javascript" src="data8.js"></script>


        <style type="text/css">
          html, body { margin: 0; padding: 0; height: 100%; }
          #map { min-height: 100%; }



        .info {

            padding: 6px 8px;
            font: 14px/16px Arial, Helvetica, sans-serif, red;
            margin: 0 0 5px;
            color: #000000;
            background: #FFFFFF;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
            border-radius: 15px;
        }


        </style>
  </head>


    <body style="background-color:darkred;">

      <header>

        <img src="STN-header.jpg"
        width= 100%
        height= 125px>

      </header>

      <nav>
   <a href="https://rstrzok.github.io/SayTheirNames/">Home</a> |
   <a href="/css/">CSS</a> |
   <a href="/js/">JavaScript</a> |
   <a href="/python/">Python</a>
 </nav>


        <div id="map" style="height: 500px"></div>

        <script type="text/javascript">


          var map = L.map('map', {
              zoomControl: false,
              center: [37.0902,-95.7129],
              zoom: 4

          });


          // Info Control Start


          var info = L.control();


          info.onAdd = function (map) {
              this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
              this.update();
              return this._div;

          };

         // method that we will use to update the control based on feature properties passed
          info.update = function (props) {
              this._div.innerHTML =  (props ?
              '<b>' + '<img src="'+ props.photo +'" style="width:200px;height:200px;">'+ '</b><br />' +  props.name + '</b><br />' + props.age + '</b><br />' + '</b><br />' + props.report + '</b><br />'
              : '<p style = "font-family:georgia,garamond,serif;font-size:14px;font-style:italic;color:darkred;">Select a point on the map');

          };


          info.addTo(map);



  function highlightFeature(e) {
		var layer = e.target;

		layer.setStyle({
            radius: 4,
            fillColor: "#800000",
			weight: 1,
			fillOpacity: 0.9
		});


		if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
			layer.bringToFront();
		}


	}

   function resetHighlight(e) {
		geojson.resetStyle(e.target);

	}

        function clickFeature(e) {
                var center = e.target.getLatLng(),
                    zoom = 7;
                 map.setView(center,zoom);

            var layer = e.target;

             info.update(e.target.feature.properties);
         }



    function onEachFeature(feature, layer) {
		layer.on({
			mouseover: highlightFeature,
			mouseout: resetHighlight,
			click: clickFeature,

		});
	}



  L.control.zoom({
      position: 'topleft',
      zoomInTitle: 'Zoom In',
      zoomOutTitle:'Zoom Out',






  }).addTo(map);







// Info Control End

          L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
                 maxZoom: 11,
                 minZoom: 4
              }).addTo(map);



              // add the search bar to the map


              var geojsonMarkerOptions = {
               radius: 4,
               fillColor: "#000000",
               color: "#FF0000",
               weight: .5,
               opacity: .7,
               fillOpacity: .5

           };


              var geojson = L.geoJson(data8,{
                   pointToLayer: function (feature, latlng) {
                    return L.circleMarker(latlng , geojsonMarkerOptions);

//                    L.control.search(data8,{
//                        layer: data8,
//                        initial: false,
//                        propertyName: 'props.name' // Specify which property is searched into.
//                      })
//                      .addTo(map);
// small pop up
//             function onEachFeature(data8) {
//             layer.on({
//             mouseover: highlightFeature,
//             mouseout: resetHighlight,
//
//});
//             if (layer.feature.properties) {
//             layer.bindTooltip( + feature.properties.name  + feature.properties.age
//             );
//
//
//}
//}

},
// small pop up


                onEachFeature: onEachFeature

              }).bindTooltip(function(layer){
                  return "<b>Name</b>: " + layer.feature.properties.name +"<br/>" +" <b>Age</b>: " + layer.feature.properties.age +"<br/>" + " <b>City</b>: " + layer.feature.properties.city +"<br/>" + "<b>State</b>: " + layer.feature.properties.state;
              }).addTo(map);


        </script>

   </body>
